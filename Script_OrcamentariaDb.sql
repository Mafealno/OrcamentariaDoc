-- MySQL Script generated by MySQL Workbench
-- Tue Jun 16 22:06:10 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema OrcamentariaDB
-- -----------------------------------------------------
-- Este banco de dados é responsavel por armazenar todos os dados do sistema Orcamentaria.

-- -----------------------------------------------------
-- Schema OrcamentariaDB
--
-- Este banco de dados é responsavel por armazenar todos os dados do sistema Orcamentaria.
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `OrcamentariaDB` DEFAULT CHARACTER SET utf8 COLLATE utf8_bin ;
USE `OrcamentariaDB` ;

-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_PESSOA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_PESSOA` (
  `PESSOA_ID` INT NOT NULL AUTO_INCREMENT,
  `NOME_PESSOA` VARCHAR(60) NOT NULL,
  `RG` VARCHAR(9) NULL,
  `CPF` VARCHAR(11) NULL,
  `CNPJ` VARCHAR(14) NULL,
  `TIPO_CADASTRO` VARCHAR(20) NOT NULL,
  `TIPO_PESSOA` ENUM('F', 'J') NOT NULL,
  PRIMARY KEY (`PESSOA_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_ENDERECO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_ENDERECO` (
  `ENDERECO_ID` INT NOT NULL AUTO_INCREMENT,
  `LOGRADOURO` VARCHAR(100) NOT NULL,
  `CEP` VARCHAR(9) NULL,
  `NUMERO_ENDERECO` VARCHAR(10) NULL,
  `COMPLEMENTO` VARCHAR(40) NULL,
  `BAIRRO` VARCHAR(40) NOT NULL,
  `CIDADE` VARCHAR(40) NULL,
  `ESTADO` VARCHAR(40) NOT NULL,
  `ENDERECO_PADRAO` BIT NOT NULL DEFAULT 0,
  `UF` VARCHAR(2) NULL,
  `PESSOA_ID` INT NOT NULL,
  PRIMARY KEY (`ENDERECO_ID`),
  INDEX `FK_T_ORCA_PESSOA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_PESSOA_ENDERECO`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_CONTATO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_CONTATO` (
  `CONTATO_ID` INT NOT NULL AUTO_INCREMENT,
  `CONTATO` VARCHAR(30) NOT NULL,
  `TIPO_CONTATO` VARCHAR(15) NOT NULL,
  `DDD` VARCHAR(2) NULL,
  `RAMAL` VARCHAR(10) NULL,
  `CONTATO_PADRAO` BIT NOT NULL DEFAULT 0,
  `PESSOA_ID` INT NOT NULL,
  PRIMARY KEY (`CONTATO_ID`),
  INDEX `FK_T_ORCA_PESSOA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_PESSOA_CONTATO`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_FUNCIONARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_FUNCIONARIO` (
  `PESSOA_ID` INT NOT NULL,
  `CARGO_FUNCIONARIO` VARCHAR(20) NOT NULL,
  `DATA_ADMISSAO` DATETIME NOT NULL,
  `VALOR_DIA_TRABALHADO` REAL NOT NULL,
  `STATUS_FUNCIONARIO` ENUM('ATIVO', 'NAO_ATIVO') NOT NULL,
  INDEX `FK_T_ORCA_PESSOA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  PRIMARY KEY (`PESSOA_ID`),
  CONSTRAINT `FK_T_ORCA_PESSOA_FUNCIONARIO`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_CUSTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_CUSTO` (
  `CUSTO_ID` INT NOT NULL AUTO_INCREMENT,
  `NOME_CUSTO` VARCHAR(30) NOT NULL,
  `DESCRICAO` VARCHAR(100) NULL,
  `TIPO_CUSTO` ENUM('DIARIO', 'SEMANAL', 'MENSAL', 'ANUAL', 'UNICO') NULL,
  `VALOR_CUSTO` REAL NOT NULL,
  PRIMARY KEY (`CUSTO_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_MATERIAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_MATERIAL` (
  `MATERIAL_ID` INT NOT NULL AUTO_INCREMENT,
  `PESSOA_ID` INT NOT NULL,
  `NOME_MATERIAL` VARCHAR(50) NOT NULL,
  `DESCRICAO_MATERIAL` VARCHAR(100) NULL,
  `TIPO_MATERIAL` VARCHAR(20) NOT NULL,
  `NOME_PESSOA` VARCHAR(60) NULL,
  PRIMARY KEY (`MATERIAL_ID`),
  INDEX `FK_T_ORCA_PESSOA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_PESSOA_MATERIAL`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_EQUIPAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_EQUIPAMENTO` (
  `EQUIPAMENTO_ID` INT NOT NULL AUTO_INCREMENT,
  `NOME_EQUIPAMENTO` VARCHAR(50) NOT NULL,
  `DESCRICAO` VARCHAR(100) NULL,
  `PESSOA_ID` INT NOT NULL,
  `NOME_PESSOA` VARCHAR(60) NULL,
  PRIMARY KEY (`EQUIPAMENTO_ID`),
  INDEX `FK_T_ORCA_PESSOA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_PESSOA_EQUIPAMENTO`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_ORCAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_ORCAMENTO` (
  `ORCAMENTO_ID` INT NOT NULL AUTO_INCREMENT,
  `NOME_OBRA` VARCHAR(30) NOT NULL,
  `REFERENCIA` VARCHAR(50) NULL,
  `PRAZO_ENTREGA` VARCHAR(4) NOT NULL,
  `DATA_CRIACAO_ORCAMENTO` DATETIME NOT NULL,
  `A_C` VARCHAR(60) NULL,
  `TIPO_OBRA` VARCHAR(45) NOT NULL,
  `PESSOA_ID` INT NOT NULL,
  `NOME_CLIENTE` VARCHAR(60) NOT NULL,
  `BAIRRO` VARCHAR(40) NULL,
  `CIDADE` VARCHAR(40) NULL,
  `UF` CHAR(2) NULL,
  PRIMARY KEY (`ORCAMENTO_ID`),
  INDEX `FK_T_ORCA_PESSOA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_PESSOA_ORCAMENTO`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_TOTAIS_ORCAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_TOTAIS_ORCAMENTO` (
  `TOTAIS_ID` INT NOT NULL AUTO_INCREMENT,
  `ORCAMENTO_ID` INT NOT NULL,
  `TOTAIS_ITENS` REAL NOT NULL,
  `TOTAIS_MAO_OBRA` REAL NOT NULL,
  `TOTAIS_EQUIPAMENTOS` REAL NOT NULL,
  `TOTAIS_CUSTOS` REAL NOT NULL,
  `TOTAL_GERAL` REAL NOT NULL,
  `AREA_TOTAL` REAL NOT NULL,
  PRIMARY KEY (`TOTAIS_ID`, `ORCAMENTO_ID`),
  INDEX `FK_T_ORCA_ORCAMENTO_INDEX` (`ORCAMENTO_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_ORCAMENTO_TOTAIS_ORCAMENTO`
    FOREIGN KEY (`ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ORCAMENTO` (`ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_ITENS_ORCAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_ITENS_ORCAMENTO` (
  `ITENS_ORCAMENTO_ID` INT NOT NULL,
  `ORCAMENTO_ID` INT NOT NULL,
  `NUMERO_LINHA` INT NOT NULL,
  `VALOR_COMPRIMENTO` REAL NOT NULL,
  `AREA` REAL NULL,
  `MATERIAL_ID` INT NOT NULL,
  `NOME_MATERIAL` VARCHAR(50) NULL,
  `DESCRICAO_MATERIAL` VARCHAR(100) NULL,
  PRIMARY KEY (`ITENS_ORCAMENTO_ID`, `ORCAMENTO_ID`),
  INDEX `FK_T_ORCA_MATERIAL_INDEX` (`MATERIAL_ID` ASC) VISIBLE,
  INDEX `FK_T_ORCA_ORCAMENTO_INDEX` (`ORCAMENTO_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_MATERIAL_ITENS_ORCAMENTO`
    FOREIGN KEY (`MATERIAL_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_MATERIAL` (`MATERIAL_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_ORCAMENTO_ITENS_ORCAMENTO`
    FOREIGN KEY (`ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ORCAMENTO` (`ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_EQUIPAMENTO_ORCAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_EQUIPAMENTO_ORCAMENTO` (
  `EQUIPAMENTO_ORCAMENTO_ID` INT NOT NULL,
  `VALOR_UNITARIO_EQUIPAMENTO` REAL NOT NULL,
  `QTDE_EQUIPAMENTO` DECIMAL(5,5) NOT NULL,
  `ORCAMENTO_ID` INT NOT NULL,
  `EQUIPAMENTO_ID` INT NOT NULL,
  `NOME_EQUIPAMENTO` VARCHAR(50) NULL,
  PRIMARY KEY (`EQUIPAMENTO_ORCAMENTO_ID`, `EQUIPAMENTO_ID`),
  INDEX `FK_T_ORCA_ORCAMENTO_INDEX` (`ORCAMENTO_ID` ASC) VISIBLE,
  INDEX `FK_T_ORCA_EQUIPAMENTO_INDEX` (`EQUIPAMENTO_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_ORCAMENTO_EQUIPAMENTO_ORCAMENTO`
    FOREIGN KEY (`ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ORCAMENTO` (`ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_EQUIPAMENTO_EQUIPAMENTO_ORCAMENTO`
    FOREIGN KEY (`EQUIPAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_EQUIPAMENTO` (`EQUIPAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_CUSTO_ORCAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_CUSTO_ORCAMENTO` (
  `CUSTO_ORCAMENTO_ID` INT NOT NULL,
  `CUSTO_ID` INT NOT NULL,
  `VALOR_CUSTO` REAL NOT NULL,
  `ORCAMENTO_ID` INT NOT NULL,
  PRIMARY KEY (`CUSTO_ORCAMENTO_ID`, `CUSTO_ID`),
  INDEX `FK_T_ORCA_CUSTO_INDEX` (`CUSTO_ID` ASC) VISIBLE,
  INDEX `FK_T_ORCA_ORCAMENTO_INDEX` (`ORCAMENTO_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_CUSTO_CUSTO_ORCAMENTO`
    FOREIGN KEY (`CUSTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_CUSTO` (`CUSTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_ORCAMENTO_CUSTO_ORCAMENTO`
    FOREIGN KEY (`ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ORCAMENTO` (`ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_MAO_OBRA_ORCAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_MAO_OBRA_ORCAMENTO` (
  `MAO_OBRA_ORCAMENTO_ID` INT NOT NULL AUTO_INCREMENT,
  `PESSOA_ID` INT NOT NULL,
  `NOME_PESSOA` VARCHAR(60) NOT NULL,
  `VALOR_DIA_TRABALHADO` REAL NULL,
  PRIMARY KEY (`MAO_OBRA_ORCAMENTO_ID`, `PESSOA_ID`),
  INDEX `FK_T_ORCA_PESSOA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_PESSOA_MAO_OBRA_ORCAMENTO`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_OBRA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_OBRA` (
  `ORCAMENTO_ID` INT NOT NULL,
  `MAO_OBRA_ORCAMENTO_ID` INT NOT NULL,
  `PESSOA_ID` INT NOT NULL,
  PRIMARY KEY (`ORCAMENTO_ID`, `MAO_OBRA_ORCAMENTO_ID`, `PESSOA_ID`),
  INDEX `FK_T_ORCA_ORCAMENTO_INDEX` (`ORCAMENTO_ID` ASC) VISIBLE,
  INDEX `FK_T_MAO_OBRA_ORCAMENTO_INDEX` (`MAO_OBRA_ORCAMENTO_ID` ASC, `PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_ORCAMENTO_OBRA`
    FOREIGN KEY (`ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ORCAMENTO` (`ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_MAO_OBRA_ORCAMENTO_OBRA`
    FOREIGN KEY (`MAO_OBRA_ORCAMENTO_ID` , `PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_MAO_OBRA_ORCAMENTO` (`MAO_OBRA_ORCAMENTO_ID` , `PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_ORCAMENTO_INTUMESCENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_ORCAMENTO_INTUMESCENTE` (
  `GRUPO` CHAR(1) NOT NULL,
  `OCUPACAO_USO` VARCHAR(50) NOT NULL,
  `DIVISAO` VARCHAR(200) NOT NULL,
  `CLASSE` VARCHAR(45) NOT NULL,
  `TEMPO_RESISTENCIA_FOGO` VARCHAR(4) NOT NULL,
  `QTDE_LITROS_TOTAL` REAL NULL,
  `PERCENTUAL_PERDA` REAL NULL,
  `QTDE_BALDES` REAL NULL,
  `QTDE_BALDES_REAL` REAL NULL,
  `ORCAMENTO_ID` INT NOT NULL,
  INDEX `FK_T_ORCA_ORCAMENTO_INDEX` (`ORCAMENTO_ID` ASC) VISIBLE,
  PRIMARY KEY (`ORCAMENTO_ID`),
  CONSTRAINT `FK_T_ORCA_ORCAMENTO_ORCAMENTO_INTUMESCENTE`
    FOREIGN KEY (`ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ORCAMENTO` (`ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_PERFIL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_PERFIL` (
  `PERFIL_ID` INT NOT NULL AUTO_INCREMENT,
  `NOME_PERFIL` VARCHAR(45) NOT NULL,
  `VALOR_D` REAL NOT NULL,
  `VALOR_BF` REAL NOT NULL,
  `VALOR_TW` REAL NOT NULL,
  `VALOR_TF` REAL NOT NULL,
  `VALOR_KG_M` REAL NULL,
  `TIPO_PERFIL` VARCHAR(30) NULL,
  PRIMARY KEY (`PERFIL_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_CARTA_COBERTURA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_CARTA_COBERTURA` (
  `CARTA_COBERTURA_ID` INT NOT NULL,
  `REFERENCIA` VARCHAR(20) NOT NULL,
  `NOME_MATERIAL` VARCHAR(50) NOT NULL,
  `NOME_PESSOA` VARCHAR(60) NOT NULL,
  `MATERIAL_ID` INT NOT NULL,
  `PESSOA_ID` INT NOT NULL,
  PRIMARY KEY (`MATERIAL_ID`, `PESSOA_ID`, `REFERENCIA`),
  INDEX `FK_T_ORCA_MATERIAL_CARTA_COBERTURA_INDEX` (`MATERIAL_ID` ASC) VISIBLE,
  INDEX `FK_T_ORCA_PESSOA_CARTA_COBERTURA_INDEX` (`PESSOA_ID` ASC) VISIBLE,
  UNIQUE INDEX `UNIQUE` (`CARTA_COBERTURA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_MATERIAL_CARTA_COBERTURA`
    FOREIGN KEY (`MATERIAL_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_MATERIAL` (`MATERIAL_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_PESSOA_CARTA_COBERTURA`
    FOREIGN KEY (`PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PESSOA` (`PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_ITENS_ORCAMENTO_INTUMESCENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_ITENS_ORCAMENTO_INTUMESCENTE` (
  `REFERENCIA` VARCHAR(20) NOT NULL,
  `NUMERO_FACES` INT NOT NULL,
  `VALOR_HP` REAL NOT NULL,
  `VALOR_HP_A` REAL NOT NULL,
  `VALOR_WD` REAL NULL,
  `QTDE` INT NULL,
  `VALOR_ESPESSURA` REAL NULL,
  `QTDE_LITROS` REAL NULL,
  `PERFIL_ID` INT NOT NULL,
  `VALOR_D` REAL NULL,
  `VALOR_BF` REAL NULL,
  `VALOR_TW` REAL NULL,
  `VALOR_TF` REAL NULL,
  `VALOR_KG_M` REAL NULL,
  `ITENS_ORCAMENTO_ID` INT NOT NULL,
  `ORCAMENTO_ID` INT NOT NULL,
  `CARTA_COBERTURA_ID` INT NOT NULL,
  INDEX `FK_T_ORCA_PERFIL_INDEX` (`PERFIL_ID` ASC) VISIBLE,
  INDEX `FK_T_ORCA_ITENS_ORCAMENTO_INDEX` (`ITENS_ORCAMENTO_ID` ASC, `ORCAMENTO_ID` ASC) VISIBLE,
  PRIMARY KEY (`CARTA_COBERTURA_ID`),
  CONSTRAINT `FK_T_ORCA_PERFIL_ITENS_ORCAMENTO_INTUMESCENTE`
    FOREIGN KEY (`PERFIL_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_PERFIL` (`PERFIL_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_ITENS_ORCAMENTO_ITENS_ORCAMENTO_INTUMESCENTE`
    FOREIGN KEY (`ITENS_ORCAMENTO_ID` , `ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ITENS_ORCAMENTO` (`ITENS_ORCAMENTO_ID` , `ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_CARTA_COBERTURA_ITENS_ORCAMENTO_INTUMESCENTE`
    FOREIGN KEY (`CARTA_COBERTURA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_CARTA_COBERTURA` (`CARTA_COBERTURA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCAITENS_ORCAMENTO_GERAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCAITENS_ORCAMENTO_GERAL` (
  `ITENS_ORCAMENTO_ID` INT NOT NULL,
  `ORCAMENTO_ID` INT NOT NULL,
  `AMBIENTE_APLICACAO` VARCHAR(50) NULL,
  `VALOR_LARGURA` REAL NULL,
  `VALOR_M_2` REAL NULL,
  INDEX `FK_T_ORCA_ITENS_ORCAMENTO_INDEX` (`ITENS_ORCAMENTO_ID` ASC, `ORCAMENTO_ID` ASC) VISIBLE,
  PRIMARY KEY (`ORCAMENTO_ID`, `ITENS_ORCAMENTO_ID`),
  CONSTRAINT `FK_T_ORCA_ITENS_ORCAMENTO_ITENS_ORCAMENTO_GERAL`
    FOREIGN KEY (`ITENS_ORCAMENTO_ID` , `ORCAMENTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_ITENS_ORCAMENTO` (`ITENS_ORCAMENTO_ID` , `ORCAMENTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_ITENS_CARTA_COBERTURA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_ITENS_CARTA_COBERTURA` (
  `ITENS_CARTA_COBERTURA_ID` INT NOT NULL AUTO_INCREMENT,
  `VALOR_HP_A` VARCHAR(4) NOT NULL,
  `TEMPO_RESISTENCIA_FOGO` VARCHAR(4) NOT NULL,
  `VALOR_ESPESSURA` REAL NOT NULL,
  `T_ORCA_CARTA_COBERTURA_CARTA_COBERTURA_ID` INT NOT NULL,
  PRIMARY KEY (`ITENS_CARTA_COBERTURA_ID`, `T_ORCA_CARTA_COBERTURA_CARTA_COBERTURA_ID`),
  INDEX `FK_T_ORCA_CARTA_COBERTURA_INDEX` (`T_ORCA_CARTA_COBERTURA_CARTA_COBERTURA_ID` ASC) INVISIBLE,
  CONSTRAINT `FK_T_ORCA_CARTA_COBERTURA_ITENS_CARTA_COBERTURA`
    FOREIGN KEY (`T_ORCA_CARTA_COBERTURA_CARTA_COBERTURA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_CARTA_COBERTURA` (`CARTA_COBERTURA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `OrcamentariaDB`.`T_ORCA_CUSTOS_MAO_OBRA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `OrcamentariaDB`.`T_ORCA_CUSTOS_MAO_OBRA` (
  `MAO_OBRA_ORCAMENTO_ID` INT NOT NULL,
  `CUSTO_ID` INT NOT NULL,
  `NOME_PESSOA` VARCHAR(60) NOT NULL,
  `NOME_CUSTO` VARCHAR(30) NOT NULL,
  `TIPO_CUSTO` ENUM('DIARIO', 'SEMANAL', 'MENSAL', 'ANUAL', 'UNICO') NOT NULL,
  `VALOR_CUSTO` REAL NOT NULL,
  `PESSOA_ID` INT NOT NULL,
  PRIMARY KEY (`MAO_OBRA_ORCAMENTO_ID`, `CUSTO_ID`),
  INDEX `FK_T_ORCA_CUSTO_INDEX` (`CUSTO_ID` ASC) VISIBLE,
  INDEX `FK_T_ORCA_MAO_OBRA_ORCAMENTO_INDEX` (`MAO_OBRA_ORCAMENTO_ID` ASC, `PESSOA_ID` ASC) VISIBLE,
  CONSTRAINT `FK_T_ORCA_CUSTO_CUSTOS_MAO_OBRA`
    FOREIGN KEY (`CUSTO_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_CUSTO` (`CUSTO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T_ORCA_MAO_OBRA_ORCAMENTO_CUSTOS_MAO_OBRA`
    FOREIGN KEY (`MAO_OBRA_ORCAMENTO_ID` , `PESSOA_ID`)
    REFERENCES `OrcamentariaDB`.`T_ORCA_MAO_OBRA_ORCAMENTO` (`MAO_OBRA_ORCAMENTO_ID` , `PESSOA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

USE `OrcamentariaDB`;

DELIMITER $$
USE `OrcamentariaDB`$$
CREATE 
    DEFINER = CURRENT_USER 
    TRIGGER  `OrcamentariaDB` . `T_ORCA_ENDERECO_BEFORE_UPDATE`
 BEFORE UPDATE ON `T_ORCA_ENDERECO` FOR EACH ROW 
    BEGIN END$$


DELIMITER ;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
